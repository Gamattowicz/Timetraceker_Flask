{% extends 'base.html' %}
{% block title %}Home{% endblock %}

{% block content %}

<div id="stopwatch">
    00:00:00
</div>

<div id="buttons">
    <button onclick="startTimer()">Start</button>
    <button onclick="pauseTimer()">Pause</button>
    <button onclick="resetTimer()">Reset</button>
</div>


{% endblock %}

{% block js %}
<script type="application/javascript">
const timer = document.getElementById('stopwatch');

let h = 0;
let m = 0;
let s = 0;
let active = false;

function startTimer() {
  if (active == false) {
        active = !active;
        timerCycle();
    }
}

function pauseTimer() {
  if (active == true) {
    active = !active;
  }
}

function timerCycle() {
    if (active == true) {
    s = parseInt(s);
    m = parseInt(m);
    h = parseInt(h);

    s++;

    if (s == 60) {
      m++;
      s = 0;
    }
    if (m == 60) {
      h++;
      m = 0;
      s = 0;
    }

    if (s < 10 || s == 0) {
      s = '0' + s;
    }
    if (m < 10 || m == 0) {
      m = '0' + m;
    }
    if (h < 10 || h == 0) {
      h = '0' + h;
    }

    timer.innerHTML = h + ':' + m + ':' + s;

    setTimeout("timerCycle()", 1000);
  }
}

function resetTimer() {
    timer.innerHTML = "00:00:00";
    active = false;
    h = 0;
    s = 0;
    m = 0;
}
</script>
{% endblock %}